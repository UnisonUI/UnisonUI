asyncapi: 2.2.0
info:
  title: UnisonUI
  description: >
    UnisonUI is a webapp which gather all your OpenApi, AsyncAPI and gRPC specifications in one place
  license:
    name: MIT
    url: https://raw.githubusercontent.com/UnisonUI/unisonui/master/LICENSE
  version: 2.0.0
channels:
  /events:
    description: SSE (server-side event) endpoint for server pushing new events
    subscribe:
      bindings:
        http:
          type: request
          method: GET
    publish:
      message:
        $ref: "#/components/messages/Event"
components:
  messages:
    Event:
      payload:
        type: object
        format: text
        required:
          - id
          - event
          - data
        properties:
          id:
            type: integer
            description: event's id
          event:
            type: string
            description: event's type
          data:
            type: object
            format: json
            properties:
              event:
                type: string
                enum: ["serviceUp", "serviceDown"]
                description: Event's type
              id:
                type: string
                description: Service's id
              name:
                type: string
                description: Service's name
              metadata:
                type: object
                description: Service's metadata

      bindings:
        http:
          headers:
            type: object
            properties:
              Content-Type:
                type: string
                enum: ["text/event-stream"]
